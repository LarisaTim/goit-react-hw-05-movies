{"version":3,"file":"static/js/140.72339892.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/component/Movies/Movies.module.css?1426","component/Movies/Movies.jsx","service/api.js","webpack://goit-react-hw-05-movies/./src/component/Form/Form.module.css?7d5d","component/Form/Form.jsx","views/MoviesPage/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"galleryList\":\"Movies_galleryList__WwPvT\",\"galleryListItem\":\"Movies_galleryListItem__i58RU\",\"galleryListImg\":\"Movies_galleryListImg__8WgAw\",\"galleryListTitle\":\"Movies_galleryListTitle__28y2G\",\"galleryListCard\":\"Movies_galleryListCard__l5P05\",\"link\":\"Movies_link__zqp7K\"};","import PropTypes from \"prop-types\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport img from \"../../images/nofoto.jpg\";\nimport slug from \"slugify\";\nimport s from \"./Movies.module.css\";\n\nconst Movies = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <>\n      <ul className={s.galleryList}>\n        {movies.map(({ id, poster_path, title }) => (\n          <li className={s.galleryListItem} key={id}>\n            <Link\n              to={{\n                pathname: `/movies/${slug(`${title}-${id}`)}`,\n                state: { from: location },\n              }}\n              className={s.link}\n            >\n              {poster_path ? (\n                <img\n                  className={s.galleryListImg}\n                  src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n                  alt={title}\n                  loading=\"lazy\"\n                  width=\"274\"\n                  height=\"398\"\n                />\n              ) : (\n                <img\n                  className={s.galleryListImg}\n                  src={img}\n                  alt={title}\n                  loading=\"lazy\"\n                  width=\"274\"\n                  height=\"398\"\n                />\n              )}\n\n              <div className={s.galleryListCard}>\n                <h3 className={s.galleryListTitle}>{title}</h3>\n              </div>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nMovies.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    })\n  ),\n};\nexport default Movies;\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst getMovies = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  timeout: 1000,\n\n  params: {\n    api_key: '843d6905879c9b52f41f5f6a1e2c8966',\n  },\n});\n\nexport async function fetchMovies(q) {\n  try {\n    const { data } = await getMovies(q);\n    return data;\n  } catch (error) {\n    toast.error(`Нет фильма по вашему запросу`);\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"Form_searchForm__8fzh+\",\"searchFormInput\":\"Form_searchFormInput__L9OT7\",\"searchFormButton\":\"Form_searchFormButton__ZwS5Z\"};","\nimport { useSearchParams } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { FiSearch } from \"react-icons/fi\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport s from \"./Form.module.css\";\n\nconst Form = ({ onSubmit }) => {\nconst [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get(\"query\") ?? \"\";\n \n \n  const handleNameChange = (evt) => {\n  const query = evt.target.value.toLowerCase();\n   setSearchParams( query?{ query}:{});\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    if (searchParams === \"\") {\n      toast.warning(\"Enter searcher\");\n      return;\n    }\n    onSubmit( query);\n    setSearchParams(\"\");\n  };\n\n  return (\n    <form className={s.searchForm} onSubmit={handleSubmit}>\n      <input\n        className={s.searchFormInput}\n        type=\"text\"\n        name=\"query\"\n        autoComplete=\"off\"\n        placeholder=\"Search movies\"\n        value={ query}\n        onChange={handleNameChange}\n      />\n      <button type=\"submit\" className={s.searchFormButton} aria-label=\"search\">\n        <FiSearch />\n      </button>\n    </form>\n  );\n};\n\nForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default Form;\n","import { useState, useEffect } from \"react\";\nimport {  useLocation, useNavigate} from \"react-router-dom\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport {LineWave} from \"react-loader-spinner\";\n// import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Form from \"../../component/Form/Form\";\nimport { fetchMovies } from \"../../service/api\";\nimport Movies from \"../../component/Movies/Movies\";\n\nexport default function MoviesPage() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [query, setQuery] = useState(null);\n  const [page, setPage] = useState(1);\n  const [movies, setMovies] = useState();\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    const asyncFetch = async () => {\n      const movies = await fetchMovies(\n        `search/movie?query=${query}&page=${page}`\n      );\n      setMovies(movies);\n    };\n\n    asyncFetch();\n  }, [page, query]);\n\n  const onFormSubmit = (query) => {\n    setQuery(query);\n    setPage(1);\n    navigate.push({ ...location, search: `query=${query}` });\n  };\n\n  return (\n    <>\n      <Form onSubmit={onFormSubmit} />\n      {movies && (\n        <InfiniteScroll\n          dataLength={movies.total_results}\n          next={() => setPage(page + 1)}\n          hasMore={true}\n          style={{ textAlign: \"center\" }}\n          loader={\n            <LineWave\n  height=\"100\"\n  width=\"100\"\n  color=\"#4fa94d\"\n  ariaLabel=\"line-wave\"\n  wrapperStyle={{}}\n  wrapperClass=\"\"\n  visible={true}\n  firstLineColor=\"\"\n  middleLineColor=\"\"\n  lastLineColor=\"\"\n/>\n          }\n        >\n          {\"\"}\n          <Movies movies={movies.results} />\n        </InfiniteScroll>\n      )}\n    </>\n  );\n}\n"],"names":["movies","location","useLocation","className","s","map","id","poster_path","title","to","pathname","slug","state","from","src","alt","loading","width","height","img","getMovies","axios","baseURL","timeout","params","api_key","fetchMovies","q","data","toast","onSubmit","useSearchParams","searchParams","setSearchParams","query","get","evt","preventDefault","type","name","autoComplete","placeholder","value","onChange","target","toLowerCase","MoviesPage","navigate","useNavigate","useState","setQuery","page","setPage","setMovies","useEffect","asyncFetch","push","search","dataLength","total_results","next","hasMore","style","textAlign","loader","color","ariaLabel","wrapperStyle","wrapperClass","visible","firstLineColor","middleLineColor","lastLineColor","Movies","results"],"sourceRoot":""}