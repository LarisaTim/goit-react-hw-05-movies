{"version":3,"file":"static/js/818.39e8cc71.chunk.js","mappings":"6PACA,EAA2B,0BAA3B,EAA4D,sBAA5D,EAAwF,qBAAxF,EAAoH,sBAApH,EAAiJ,sB,mBCGlI,SAASA,EAAT,GAA+B,IAAZC,EAAW,EAAXA,QAE9BC,EAIED,EAJFC,GACAC,EAGEF,EAHFE,OACkBC,EAEhBH,EAFFI,eAAkBD,YAClBE,EACEL,EADFK,QAGF,OACE,gBAAaC,UAAWC,EAAxB,WACE,gBACED,UAAWC,EACXC,IAAKL,EAAcA,EAAYM,MAAM,GAAKC,EAC1CC,IAAKT,EACLU,QAAQ,UAEV,eAAIN,UAAWC,EAAf,SAAwBL,KACxB,cAAGI,UAAWC,EAAd,SAAuBF,MARhBJ,EAWZ,CClBc,SAASY,IACtB,IACMC,GADWC,EAAAA,EAAAA,MAATC,KACaC,MAAM,cAAc,GACzC,GAA8BC,EAAAA,EAAAA,UAAS,MAAvC,eAAOlB,EAAP,KAAgBmB,EAAhB,KAWA,OATAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,mCAAG,qGACKC,EAAAA,EAAAA,GAAY,SAAD,OAAUR,EAAV,aADhB,OACXd,EADW,OAEjBmB,EAAWnB,GAFM,2CAAH,qDAKhBqB,GACD,GAAE,CAACP,KAGF,8BACGd,IACC,eAAIM,UAAWC,EAAf,SACGP,EAAQuB,QAAQC,KAAI,SAAAC,GAAE,OACrB,SAAC1B,EAAD,CAAqBC,QAASyB,GAAhBA,EAAGxB,GADI,OAOhC,C,4GC5BKyB,EAAYC,EAAAA,EAAAA,OAAa,CAC7BC,QAAS,+BACTC,QAAS,IAETC,OAAQ,CACNC,QAAS,sCAIN,SAAeT,EAAtB,+CAAO,OAAP,oBAAO,WAA2BU,GAA3B,kGAEoBN,EAAUM,GAF9B,uBAEKC,EAFL,EAEKA,KAFL,kBAGIA,GAHJ,gCAKHC,EAAAA,GAAAA,MAAA,wJALG,gF","sources":["webpack://goit-react-hw-05-movies/./src/component/Reviews/Reviews.module.css?f1cd","component/Reviews/RevItem/RevItem.jsx","component/Reviews/Reviews.jsx","service/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"cardList\":\"Reviews_cardList__1QeqR\",\"card\":\"Reviews_card__LSUXH\",\"img\":\"Reviews_img__ma+mV\",\"char\":\"Reviews_char__LrQzC\",\"name\":\"Reviews_name__ddjZ4\"};","// import PropTypes from 'prop-types';\nimport s from '../Reviews.module.css';\nimport img from '../../../images/nofoto.jpg';\n\nexport default function RevItem({ reviews }) {\n  const {\n    id,\n    author,\n    author_details: { avatar_path },\n    content,\n  } = reviews;\n\n  return (\n    <li key={id} className={s.card}>\n      <img\n        className={s.img}\n        src={avatar_path ? avatar_path.slice(1) : img}\n        alt={author}\n        loading=\"lazy\"\n      />\n      <h3 className={s.name}>{author}</h3>\n      <p className={s.char}>{content}</p>\n    </li>\n  );\n}\n// RevItem.propTypes = {\n//   reviews: PropTypes.shape({\n//     id: PropTypes.number.isRequired,\n//   }),\n// };\n","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchMovies } from '../../service/api';\nimport RevItem from './RevItem/RevItem';\nimport s from './Reviews.module.css';\n\nexport default function Reviews() {\n  const { slug } = useParams();\n  const movieId = slug.match(/[a-z0-9]+$/)[0];\n  const [reviews, setRevList] = useState(null);\n\n  useEffect(() => {\n    const asyncFetch = async () => {\n      const reviews = await fetchMovies(`movie/${movieId}/reviews`);\n      setRevList(reviews);\n    };\n\n    asyncFetch();\n  }, [movieId]);\n\n  return (\n    <>\n      {reviews && (\n        <ul className={s.cardList}>\n          {reviews.results.map(el => (\n            <RevItem key={el.id} reviews={el} />\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst getMovies = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  timeout: 1000,\n\n  params: {\n    api_key: '843d6905879c9b52f41f5f6a1e2c8966',\n  },\n});\n\nexport async function fetchMovies(q) {\n  try {\n    const { data } = await getMovies(q);\n    return data;\n  } catch (error) {\n    toast.error(`Нет фильма по вашему запросу`);\n  }\n}\n"],"names":["RevItem","reviews","id","author","avatar_path","author_details","content","className","s","src","slice","img","alt","loading","Reviews","movieId","useParams","slug","match","useState","setRevList","useEffect","asyncFetch","fetchMovies","results","map","el","getMovies","axios","baseURL","timeout","params","api_key","q","data","toast"],"sourceRoot":""}